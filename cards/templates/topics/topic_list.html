{% extends "cards/base.html" %}

{% block content %}
    <h2>Topics</h2>

    <div class="action-section text-center"></div>
        <a href="{% url 'card-list' %}" class="button">View, Edit or Delete card</a>
        <a href="{% url 'card-create' %}" class="button">Create a New Card</a>
      </div>
    
    <!-- List of current topics -->
    <div class="topics-container">
        <h4 class="text-center">My Topics</h4>
        <ul>
            {% for topic in topics %}
                <li>{{ topic.name }}</li>
            {% endfor %}
        </ul>
    </div>

    <!-- Form to add a new topic -->
    <h3>Add a New Topic</h3>
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}  <!-- Renders the form fields -->
        <button type="submit">âž• Add Topic</button>
    </form>

    <h3>Delete an Existing Topic</h3>
    <p>deleting a topic will delete all questions in that topic</p>
    <form method="post" action="{% url 'manage-topics' %}">
        {% csrf_token %}
        <label for="topic">Choose a topic to delete:</label>
        <select name="topic" id="topic" class="form-control">
            {% for topic in topics %}
                <option value="{{ topic.id }}">{{ topic.name }}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-danger mt-3">Delete Topic</button>
    </form>

{% endblock %}